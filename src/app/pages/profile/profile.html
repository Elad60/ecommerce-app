@if (successMessage()) {
  <div class="success-message">{{ successMessage() }}</div>
}
@if (errorMessage()) {
  <div class="error-message">{{ errorMessage() }}</div>
}

<form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
  <div class="form-field">
    <label for="userName">Username</label>
    <input id="userName" formControlName="userName" type="text" />
    @if (profileForm.controls.userName.invalid && profileForm.controls.userName.touched) {
      <small class="error">Username is required</small>
    }
  </div>
  <div class="form-field">
    <label for="email">Email</label>
    <input id="email" formControlName="email" type="text" />
    @if (profileForm.controls.email.invalid && profileForm.controls.email.touched) {
      @if (profileForm.controls.email.errors?.['required']) {
        <small class="error">Email is required</small>
      }
      @if (profileForm.controls.email.errors?.['email']) {
        <small class="error">Please enter a valid email</small>
      }
    }
  </div>
  <div class="form-actions">
    <button type="submit" class="btn-primary" [disabled]="!isFormValid() || !profileForm.dirty">Save Changes</button>
  </div>
</form>
